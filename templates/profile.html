{% extends 'base.html' %}
{% block title %}Prescriptions{% endblock %}

{% block body %}
<div class="profile-background"></div>
<div class="container-fluid">
  <div class="row">
    <div class="col-4">
      <h2>Your Presciptions</h2>
    </div>
    <div class="col-4">
      <h2>Calendar Refill Dates </h2>
    </div>
    <div class="col-4">
      <h2>Search Results</h2>
    </div>
  </div>

  <div class="row">

    <div class="col">
      <table id="rx-drugs"class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Brand</th>
            <th>Generic</th>
            <th>Strength</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody id="prescriptions_table">
          <col width="175">
          <col width="950">
          <col width="100">
          <col width="50">
          {% for prescription in prescriptions %}
          <tr>
            <td>{{ prescription.brand_name }}</td>
            <td>{{ prescription.generic_name }}</td>
            <td>{{ prescription.strength }}</td>
         
            <td><button type="button" value="{{ prescription.prescription_id }}" class="delete-btn">Delete</button></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="col"> 
      <form id="refill-form">
        <div class="input-group mb-3">
          <span class="input-group-text" id="rx-name">Prescription Name</span>
          <input type="text" id="prescription-name" class="form-control" aria-label="prescription name">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="refill-start">Refill Date</span>
          <input type="date" id="refill-date-start" class="form-control" aria-label="refill start date">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="refill-stop">End Date</span>
          <input type="date" id="refill-date-end" class="form-control" aria-label="refill end date" aria-describedby="inputGroup-sizing-default">
        </div>
        <button type="submit" class="refill-btn" id="refill-submit">Submit</button>
      </form>
    </div>

    <div class="col">
      <div id="med_search_results">
      </div>
      <form id="med_search">
        <input type="text" class="search-input" id="search_query" name="search_query"
        placeholder="Enter a medication name">
        <button type="submit" class="search-submit-btn" id="med_search_submit">Search</button>
      </form>
    </div>
  </div>
  <div class="row results-table-spacing">
    <table>
      <thead>
        <tr>
          <col width="175">
          <col width="950">
          <col width="100">
        </tr>
      </thead>
      <tbody class="results-content" id="results_table">
      </tbody>
    </table>
  </div>
</div>

<script src="/static/med_search.js"></script>
<script src="/static/js/events.js"></script>
{% endblock body %}